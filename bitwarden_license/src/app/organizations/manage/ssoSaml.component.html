<div *ngIf="samlForm != null" [formGroup]="samlForm">
    <!-- SAML2 SP -->
    <div class="config-section">
        <h2 class="secondary-header">{{'samlSpConfig' | i18n}}</h2>
        <div class="form-group">
            <label>{{'spEntityId' | i18n}}</label>
            <div class="input-group">
                <input class="form-control" readonly [value]="spEntityId" >
                <div class="input-group-append">
                    <button type="button" class="btn btn-outline-secondary"
                        appA11yTitle="{{'copyValue' | i18n}}"
                        (click)="copy(spEntityId)">
                        <i class="fa fa-lg fa-clone" aria-hidden="true"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>{{'spMetadataUrl' | i18n}}</label>
            <div class="input-group">
                <input class="form-control" readonly [value]="spMetadataUrl">
                <div class="input-group-append">
                    <button type="button" class="btn btn-outline-secondary"
                        appA11yTitle="{{'launch' | i18n}}"
                        (click)="launchUri(spMetadataUrl)">
                        <i class="fa fa-lg fa-external-link" aria-hidden="true"></i>
                    </button>
                    <button type="button" class="btn btn-outline-secondary"
                        appA11yTitle="{{'copyValue' | i18n}}"
                        (click)="copy(spMetadataUrl)">
                        <i class="fa fa-lg fa-clone" aria-hidden="true"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>{{'spAcsUrl' | i18n}}</label>
            <div class="input-group">
                <input class="form-control" readonly [value]="spAcsUrl">
                <div class="input-group-append">
                    <button type="button" class="btn btn-outline-secondary"
                        appA11yTitle="{{'copyValue' | i18n}}"
                        (click)="copy(spAcsUrl)">
                        <i class="fa fa-lg fa-clone" aria-hidden="true"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="spNameIdFormat">{{'spNameIdFormat' | i18n}}</label>
            <select class="form-control" formControlName="spNameIdFormat" id="spNameIdFormat">
                <option *ngFor="let o of saml2NameIdFormatOptions" [ngValue]="o.value">{{o.name}}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="spOutboundSigningAlgorithm">{{'spOutboundSigningAlgorithm' | i18n}}</label>
            <select class="form-control" formControlName="spOutboundSigningAlgorithm"
                id="spOutboundSigningAlgorithm">
                <option *ngFor="let o of samlSigningAlgorithms" [ngValue]="o">{{o}}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="spSigningBehavior">{{'spSigningBehavior' | i18n}}</label>
            <select class="form-control" formControlName="spSigningBehavior" id="spSigningBehavior">
                <option *ngFor="let o of saml2SigningBehaviourOptions" [ngValue]="o.value">{{o.name}}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="spMinIncomingSigningAlgorithm">{{'spMinIncomingSigningAlgorithm' | i18n}}</label>
            <select class="form-control" formControlName="spMinIncomingSigningAlgorithm"
                id="spMinIncomingSigningAlgorithm">
                <option *ngFor="let o of samlSigningAlgorithms" [ngValue]="o">{{o}}</option>
            </select>
        </div>
        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="spWantAssertionsSigned"
                    formControlName="spWantAssertionsSigned">
                <label class="form-check-label" for="spWantAssertionsSigned">
                    {{'spWantAssertionsSigned' | i18n}}
                </label>
            </div>
        </div>
        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="spValidateCertificates"
                    formControlName="spValidateCertificates">
                <label class="form-check-label" for="spValidateCertificates">
                    {{'spValidateCertificates' | i18n}}
                </label>
            </div>
        </div>
    </div>

    <!-- SAML2 IDP -->
    <div class="config-section">
        <h2 class="secondary-header">{{'samlIdpConfig' | i18n}}</h2>

        <div class="form-group">
            <label for="idpEntityId">
                {{'idpEntityId' | i18n}}
                <small class="text-muted form-text d-inline">({{'required' | i18n}})</small>
            </label>
            <input class="form-control" formControlName="idpEntityId" id="idpEntityId" appA11yInvalid 
                aria-describedby="idpEntityIdDesc">
            <small id="idpEntityIdDesc" class="error-inline" *ngIf="samlForm.get('idpEntityId').hasError('required')"
                role="alert">
                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                <span class="sr-only">{{ 'error' | i18n}}:</span>
                {{'fieldRequiredError' | i18n }}
            </small>
        </div>
        <div class="form-group">
            <label for="idpBindingType">{{'idpBindingType' | i18n}}</label>
            <select class="form-control" formControlName="idpBindingType" id="idpBindingType">
                <option *ngFor="let o of saml2BindingTypeOptions" [ngValue]="o.value">{{o.name}}</option>
            </select>
        </div>
        <div class="form-group">
            <label for="idpSingleSignOnServiceUrl">{{'idpSingleSignOnServiceUrl' | i18n}}</label>
            <input class="form-control" formControlName="idpSingleSignOnServiceUrl" id="idpSingleSignOnServiceUrl"
                aria-describedby="idpSingleSignOnServiceUrlDesc" appChangeStripSpaces>
            <small id="idpSingleSignOnServiceUrlDesc" class="form-text text-muted">
                {{'idpSingleSignOnServiceUrlRequired' | i18n}}
            </small>
        </div>
        <div class="form-group">
            <label for="idpSingleLogoutServiceUrl">{{'idpSingleLogoutServiceUrl' | i18n}}</label>
            <input class="form-control" formControlName="idpSingleLogoutServiceUrl" id="idpSingleLogoutServiceUrl"
                appChangeStripSpaces>
        </div>
        <div class="form-group">
            <label for="idpArtifactResolutionServiceUrl">{{'idpArtifactResolutionServiceUrl' | i18n}}</label>
            <input class="form-control" formControlName="idpArtifactResolutionServiceUrl"
                id="idpArtifactResolutionServiceUrl" appChangeStripSpaces appA11yInvalid
                aria-describedby="idpArtifactResolutionServiceUrlDesc">
            <div id="idpArtifactResolutionServiceUrlDesc">
                <small class="error-inline" *ngIf="samlForm.get('idpArtifactResolutionServiceUrl').hasError('required')
                    else idpArtifactHelperText" role="alert">
                    <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                    <span class="sr-only">{{ 'error' | i18n}}:</span>
                    {{'idpArtifactResolutionRequired' | i18n }}
                </small>
                <ng-template #idpArtifactHelperText>
                    <small class="form-text text-muted">
                        {{'idpArtifactResolutionRequired' | i18n }}
                    </small>
                </ng-template>
            </div>
        </div>
        <div class="form-group">
            <label for="idpX509PublicCert">
                {{'idpX509PublicCert' | i18n}}
                <small class="text-muted form-text d-inline">({{'required' | i18n}})</small>
            </label>
            <textarea formControlName="idpX509PublicCert" class="form-control form-control-sm text-monospace"
                rows="6" id="idpX509PublicCert" appA11yInvalid aria-describedby="idpX509PublicCertDesc"></textarea>
            <small id="idpX509PublicCertDesc" class="error-inline" role="alert"
                *ngIf="samlForm.get('idpX509PublicCert').hasError('required')">
                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                <span class="sr-only">{{ 'error' | i18n}}:</span>
                {{'fieldRequiredError' | i18n }}
            </small>
        </div>
        <div class="form-group">
            <label for="idpOutboundSigningAlgorithm">{{'idpOutboundSigningAlgorithm' | i18n}}</label>
            <select class="form-control" formControlName="idpOutboundSigningAlgorithm"
                id="idpOutboundSigningAlgorithm">
                <option *ngFor="let o of samlSigningAlgorithms" [ngValue]="o">{{o}}</option>
            </select>
        </div>
        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="idpAllowUnsolicitedAuthnResponse"
                    formControlName="idpAllowUnsolicitedAuthnResponse">
                <label class="form-check-label" for="idpAllowUnsolicitedAuthnResponse">
                    {{'idpAllowUnsolicitedAuthnResponse' | i18n}}
                </label>
            </div>
        </div>
        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="idpAllowOutboundLogoutRequests"
                    formControlName="idpAllowOutboundLogoutRequests">
                <label class="form-check-label" for="idpAllowOutboundLogoutRequests">
                    {{'idpAllowOutboundLogoutRequests' | i18n}}
                </label>
            </div>
        </div>
        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="idpWantAuthnRequestsSigned"
                    formControlName="idpWantAuthnRequestsSigned">
                <label class="form-check-label" for="idpWantAuthnRequestsSigned">
                    {{'idpSignAuthenticationRequests' | i18n}}
                </label>
            </div>
        </div>
    </div>
</div>
